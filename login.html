<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Login I.E.P.C</title>
<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/9.24.0/firebase-app.js";
  import {
    getAuth,
    createUserWithEmailAndPassword,
    signInWithEmailAndPassword,
    onAuthStateChanged,
    signOut,
  } from "https://www.gstatic.com/firebasejs/9.24.0/firebase-auth.js";

  const firebaseConfig = {
    apiKey: "SUA_API_KEY_AQUI",
    authDomain: "SEU_AUTH_DOMAIN_AQUI",
    projectId: "SEU_PROJECT_ID_AQUI",
    storageBucket: "SEU_STORAGE_BUCKET_AQUI",
    messagingSenderId: "SEU_MESSAGING_SENDER_ID_AQUI",
    appId: "SEU_APP_ID_AQUI",
  };

  const app = initializeApp(firebaseConfig);
  const auth = getAuth();

  onAuthStateChanged(auth, user => {
    if (user) {
      window.location.href = "principal.html";
    }
  });

  window.registrar = async () => {
    const email = document.getElementById("email").value.trim();
    const senha = document.getElementById("senha").value.trim();
    if (!email || !senha) {
      alert("Preencha email e senha!");
      return;
    }
    try {
      await createUserWithEmailAndPassword(auth, email, senha);
      alert("Conta criada com sucesso!");
    } catch (e) {
      alert("Erro ao registrar: " + e.message);
    }
  };

  window.login = async () => {
    const email = document.getElementById("email").value.trim();
    const senha = document.getElementById("senha").value.trim();
    if (!email || !senha) {
      alert("Preencha email e senha!");
      return;
    }
    try {
      await signInWithEmailAndPassword(auth, email, senha);
      window.location.href = "principal.html";
    } catch (e) {
      alert("Erro no login: " + e.message);
    }
  };
</script>
<style>
  body {
    font-family: Arial, sans-serif;
    background: #fdfcf7;
    color: #333;
    padding: 20px;
  }
  input {
    display: block;
    margin: 10px 0;
    padding: 8px;
    width: 100%;
    max-width: 300px;
  }
  button {
    margin-right: 10px;
    padding: 10px 20px;
    background: darkred;
    color: white;
    border: none;
    cursor: pointer;
  }
  button:hover {
    background: #a30000;
  }
</style>
</head>
<body>
  <h1>Login I.E.P.C</h1>
  <input type="email" id="email" placeholder="Email" />
  <input type="password" id="senha" placeholder="Senha" />
  <button onclick="login()">Entrar</button>
  <button onclick="registrar()">Registrar</button>
</body>
</html>
